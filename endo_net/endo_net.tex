\documentclass[12pt]{article}
\usepackage[affil-it]{authblk}
%
\usepackage{amsmath,amssymb,amsthm,ascmac}
\usepackage{float}
\usepackage[dvipdfmx]{graphicx}
\usepackage{subcaption}
\usepackage{here}
\usepackage{pifont}
\usepackage{comment}
\usepackage{tikz}
\usepackage{geometry}
\usepackage{pgfplots}
\usepackage{dsfont}
\usepackage{bm}
\usetikzlibrary{patterns}

\usepackage{mathptmx} % rm & math
\usepackage[scaled=0.90]{helvet} % ss
\usepackage{courier} % tt
\normalfont
\usepackage[T1]{fontenc}

\geometry{left=1.0in,right=1.0in,top=1.0in,bottom=1.0in}
%¥usepackage[top=25truemm,bottom=25truemm,left=10truemm,right=10truemm]{geometry}
\usepackage{setspace}
\setstretch{1.5} %行間の広さ指定

\theoremstyle{definition}
\newtheorem{theorem}{Theorem}
\newtheorem*{theorem*}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem*{lemma*}{Lemma}
\newtheorem{proposition}{Proposition}
\newtheorem*{proposition*}{Proposition}
\newtheorem{definition}{Definition}
\newtheorem*{definition*}{Definition}
\newtheorem{corollary}{Corollary}
\newtheorem*{corollary*}{Corollary}
\newtheorem{assumption}{Assumption}
\newtheorem*{assumption*}{Assumption}
\newtheorem{example}{Example}
\newtheorem*{example*}{Example}
\newtheorem*{remark}{Remark}
\newtheorem{algorithm}{Algorithm}
\newtheorem*{algorithm*}{Algorithm}

\newcommand{\bs}[1]{\boldsymbol{#1}}


\begin{document}

\title{Network Game with Endogenous Formation and Peer-Effect}

\author{Yuya Furusawa}
\affil{U-Tokyo, GSE, 29-186036}

\date{\today}

\maketitle

\begin{abstract}
aaaa
\end{abstract}


\section{Introduction}

TO DO
\begin{itemize}
	\item Network with peer effects
	\item Importance of network formation
	\begin{itemize}
 		\item Model Story
 		\item Numerical example
 	\end{itemize}
 	\item Summary of results
  	\item Literature Review
\end{itemize}


\section{Model}

There are $n$ agents in the economy, and denote the set of agents $N = \{ 1, \cdots, n\}$.
We assume $n$ is finite and $n \ge 2$.

The game consists of two-stage game: {\it{choosing neighbors}} and {\it{choosing an effort level}}.
Initially, agents are connected in the potential network $g^p$.
We consider the network $g^p$ is connected, directed and unweighted.
The potential network $g^p$ is represented by adjacency matrix $\bm{G}^p = {(g_{ij}^p)}_{ij}$ where, for any $i \neq j$,
\[ g_{ij}^p =
	\begin{cases}
		1 \  (\text{if $i$ has a link to $j$ in $g^p $}) \\
		0 \  (\text{otherwise})
	\end{cases} \]
Note that $\bm{G}^p$ can be asymetric and $g_{ii}^p = 0$ for all $i$.
Denote the set of agent $i$'s neighbors in the potential network $N_i(g^p)$.
In the first stage, each agent $i$ simultaneously chooses the partners from the potential neighbors, $N_i(g^p)$, where $N_i(g^p) = \{ j \in N | g_{ij}^p = 1 \}$.
This strategy can be represented by its subset $\psi_i \subset N_i(g^p)$, and $\psi_i$ can be empty.
We assume that when forming a link, each agent incurs a cost $c_{ij} \ge 0$, and denote its matrix $\bm{C} = {(c_{ij})}_{ij}$.\footnote{We assume that $c_{ij} = 0$ for $ij$ such that $g_{ij}^p = 0$.}
The link formation cost represents, for example, geographic distance or psychological barrier.
Since $\psi_i$ depends on potential network $g^p$ and costs $\bm{C}$, to emphasize it, we denote $\psi_i(g^p, \bm{C})$.
We denote its profile $\bm{\psi}(g^p, \bm{C}) = \prod_{i=1}^n \psi_i(g^p, \bm{C})$.
After forming links, the network $g$ is realized.
$g$ is represented by the adjacency matrix $\bm{G} = {(g_{ij})}_{ij}$ such that, for any pair $(i,j)$,
\[ g_{ij} = 
	\begin{cases}
		1 \  (\text{if} \  j \in \psi_i(g^p, {\bm{C}}) ) \\
		0 \  (\text{otherwise})
	\end{cases} \]
We can see the realization of the network depends on agents' choosing strategy $\bm{\psi}(g^p, \bm{C})$.
To represent this dependency, we can write the realized network $g$ as $g(\bm{\psi}(g^p, \bm{C}))$.
From now on, we denote the network $g(\bm{\psi}(g^p, \bm{C}))$ as $g(\bm{\psi})$ and $\bm{\psi}(g^p, \bm{C})$ to avoid redundant representation unless $g^p$ and $\bm{C}$ are key variables.

In the second stage, each agent $i = 1, \cdots, n$ simultaneously excerts an effort $x_i \ge 0$, and gets a payoff which depends on the agents' efforts and realized network.
Denote $\bm{x} = (x_1, \cdots, x_n)$.
\[ u_i(\bm{x}, \bm{\psi}, \bm{C}, \phi) = v_i(\bm{x}, g(\bm{\psi}), \phi) - \sum_{j=1}^n g_{ij}(\bm{\psi}) c_{ij} \]
where
\begin{equation}
\label{function_v}
	v_i(\bm{x}, g(\bm{\psi}), \phi) = \alpha_i x_i - \frac{1}{2} x_i^2 + \phi \sum_{j=1}^n g_{ij}(\bm{\psi}) x_i x_j
\end{equation}
Here, we focus on bilinear payoff functions.
First term of (\ref{function_v}) represents the individual benefit of effort, and second term is the disutility of effort.
Third cross term represents the peer effect of the effort.
If the neighbor excerts high effort, agent $i$ receives large benefit with decay factor $\phi$.
Peer effect is derived by the externalities of the effort.
We assume $\alpha_i > 0$ for all $i$, and $\phi > 0$.
Denote $\bm{\alpha} = (\alpha_1, \cdots, \alpha_n)$.

Before go into an equilibrium analysis, we introduce a well-known network centrality measure which is useful for our analysis.
Consider the $n$-square adjacency matrix $\bm{G}$ of a network $g$ where $g_{ij} = 1$ if $i$ has a direct link to $j$ and $g_{ij} = 0$ otherwise.
We introduce a following definition from Katz(1953) and Bonacich(1987).

\begin{definition}
Given a vector $\bm{u} \in \mathbb{R}_+^n$, and a small enough $\phi \ge 0$, the vector of Katz-Bonacich centralities of parameter $\phi$ in network $g$ is defined as:

\[ \bm{b}_{\bm{u}}(g, \phi) = {(\bm{I} - \phi \bm{G})}^{-1} \bm{u} = \sum_{p=0}^{\infty} \phi^p \bm{G}^p \bm{u} \]

\end{definition}

Katz-Bonacich centrality can be thought of a centrality measure which considers the discounted sum of the walks.
The $i$-th entry of the vector $\bm{b}_{\bm{u}}(g, \phi)$ is denoted by $b_{\bm{u}, i}(g, \phi)$.
We write the sum of Katz-Bonacich centrarities as $b_{\bm{u}}(g, \phi) = \sum_{i=1}^n b_{\bm{u}, i}(g, \phi)$


\section{Equilibrium and Characterization}


\subsection{Equilibrium definition and its existence}

In this paper, we consider the subgame perfect equilibrium where all agents take pure strtegies in every subgame.
The reason why we consider such a equilibrium is that pure strategies in choosing neighbors makes network deterministic.
If agents take mixed actions in the first stage, the realized network can be stochastic and we cannot directly compare the realized network.
We call the network emerged in the pure-strategy subgame perfect equilibrium as {\it{equilibrium network}}.

\begin{definition}
Given $g^p$ and $\bm{C}$, the network $g^*$ is equilibrium network if $g^* = g(\bm{\psi}^*)$ where $\bm{\psi}^*$ is the strategies in the pure-strategy subgame perfect equilibrium.
\end{definition}

We characterize the equilibrium network by a standard way: backward induction.
First, given realized network $g$, consider the second stage, choosing an effort level.
To characterize the equilibrium in this subgame, we require a new assumption.
Denote $\rho (\bm{G})$ as the spectral radius of the matrix $\bm{G}$.

\begin{assumption}
$\phi \rho(\bm{G}^p) < 1$
\end{assumption}

We show that, under this assumption, there exists a unique Nash equilibrium in the second stage for any realized network.

\begin{proposition}
Under Assumption 1, for any realized network $g$, the subgame has a unique Nash equilibrium $\bm{x}^*$, which is interior and given by
\[ \bm{x}^* = {(\bm{I} - \phi \bm{G})}^{-1} \bm{\alpha} \]
\end{proposition}

Ballester, Calvo-Armengol, and Zenou(2006, 2010) show that, given network $g$, there exists a unique interior Nash equilibrium when the spectral radius of the adjacency matrix of the network is small enough.
In addition, we find that optimal effort levels coincide with the Katz-Bonacich centrarity of parameter $\phi$ given realized network $g$.
In our model, the spectral radius of the adjacency matrix of realized network may not satisfy that condition.
Proposition 1 says that we can satisfy the condition under Assumption 1.
Note that Proposition 1 also provides the Nash equilibrium, which is a first step of backward induction.

Here $\bm{x}^*$ is the optimal effort in the realized network, and so we can find $x_i^*$s' are dependent of $\bm{\psi}$, so optimal effort levels can be written as $x_i^*(\bm{\psi})$.
From Proposition 1, we can calculate as follows:
\[ v_i^*(\bm{x}^*(g(\bm{\psi})), g(\bm{\psi}), \phi) = \frac{1}{2} {[b_{\bm{\alpha}, i}(g(\bm{\psi}), \phi)]}^2 = \frac{1}{2} {x_i^*(g(\bm{\psi}))}^2 \]

In order to characterize the subgame perfect equilibrium, next we consider the agents' strategy to choose neighbors.
In light of Proposition 1, we only need to consider Nash equilibria given the efforts in the second stage Nash equilibrium.
Since the number of agents and strategies is finite, there exists Nash equilibrium, but as mentioned above, we will consider the pure staretegy equilibrium.
To show the existence of such a equilibrium, we consider the following algorithm.

\begin{algorithm}
\ 
\begin{description}
	\item[Step 0.]\mbox{}\\
		Let $g^{(0)}$ be the initial realized network where $g^{(0)} = g^p$, that is $\psi_i^{(0)} = N_i(g^p)$.
		Compute each players' optimal effort and payoffs.
		Denote the set of agents who do not take best response as $NB^{(0)}$:
		\begin{equation*}
		\begin{split}
			NB^{(0)} = \{i \in N &| \exists \tilde{\psi}_i \subset N_i(g^p) \ \text{s.t.} \ u_i(\bm{x}^*(g(\tilde{\psi}_1, \psi_{-i}^{(0)}), \tilde{\psi}_i, \psi_{-i}^{(0)}, \bm{C}, \phi) > u_i(\bm{x}^*(g(\bm{\psi}^{(0)})), \bm{\psi}^{(0)}, \bm{C}, \phi) \\
								 &\text{and} \ \tilde{\psi}_i \neq \psi_i^{(0)} \}
		\end{split}
		\end{equation*}
		Go into Step 1.
	\item[Step $k(\ge 1)$.]\mbox{}\\
		Check whether $NB^{(k-1)}$ is empty or not.

		If $NB^{(k-1)} = \emptyset$, define $g^* = g(\bm{\psi}^{(k-1)})$ and terminate the algorithm.

		Otherwise, choose a agent $i \in NB^{(k-1)}$ randomly.
		Agent $i$ takes best response, changing links, then new network is emerged.
		That is, $i$ changes her strategy from $\psi_i^{(k-1)}$ to $\psi_i^{(k)}$ such that $u_i(\bm{x}^*(g(\psi_i^{(k)}, \psi_{-i}^{(k-1)})), \psi_i^{(k)}, \psi_{-i}^{(k-1)}, \bm{C}, \phi) > u_i(\bm{x}^*(g(\bm{\psi}^{(k-1)})), \bm{\psi}^{(k-1)}, \bm{C}, \phi)$, and for any other agents $j (\neq i)$ remain their strategies, $\psi_j^{(k)} = \psi_j^{(k-1)}$.
		Then, new network $g(\bm{\psi}^{(k)})$ is realized.
		Compute each players' payoffs and define $NB^{(k)}$:
		\begin{equation*}
		\begin{split}
			NB^{(k)} = \{i \in N &| \exists \tilde{\psi}_i \subset N_i(g^p) \ \text{s.t.} \ u_i(\bm{x}^*(g(\tilde{\psi}_1, \psi_{-i}^{(k)}), \tilde{\psi}_i, \psi_{-i}^{(k)}, \bm{C}, \phi) > u_i(\bm{x}^*(g(\bm{\psi}^{(k)})), \bm{\psi}^{(k)}, \bm{C}, \phi) \\
								 &\text{and} \ \tilde{\psi}_i \neq \psi_i^{(k)} \}
		\end{split}
		\end{equation*}
		Proceed to Step $k+1$.
\end{description}
\end{algorithm}

Algorithm 1 is one of the {\it{best response dynamics}} algorithms, where agents take their best reponses in each steps.
You may notice that if the best reponse dynamics halts, it returns a pure strategy Nash equilibrium.\footnote{See Nisan, Noam, et al., eds. Algorithmic game theory. Cambridge university press, 2007.}
Thus, to show the existence of the equilibrium, we need to show this algorithm always terminates.
To do that, we need some lemmas.

\begin{lemma}
	Given the network $g$ and $\hat{g}$ such that
	\[  \begin{cases}
			\hat{g}_{ij} = 1, g_{ij} = 0 \\
			\hat{g}_{lm} = g_{lm} \ \text{for any} \ lm  \neq ij
		\end{cases} \]
	Also consider the $\bm{\hat{\psi}}$ and $\bm{\psi}$  which construct network $\tilde{g}$ and $g$ respectively. 
	Then,
	\[ v_i^* (\bm{x}^*(\hat{g}(\bm{\hat{\psi}})), \hat{g}(\bm{\hat{\psi}}), \phi) > v_i^* (\bm{x}^*(g(\bm{\psi})), g(\bm{\psi}), \phi)\]
\end{lemma}

Lemma 1 states that function $v_i$ is a increasing function in $\psi_i$.

\begin{lemma}
	Consider the network $g$, $\hat{g}$, $h$, and $\hat{h}$ (its adjacency matrices are $G$, $\hat{G}$, $H$, and $\hat{H}$ respectively) such that
	\[  \begin{cases}
			\hat{g}_{ij} = 1, g_{ij} = 0 \\
			\hat{g}_{lm} = g_{lm} \ \text{for any} \ lm  \neq ij
		\end{cases}
		\ \text{and} \ 
		\begin{cases}
			\hat{h}_{ij} = 1, h_{ij} = 0 \\
			\hat{h}_{lm} = h_{lm} \ \text{for any} \ lm  \neq ij
		\end{cases} \]
	and $g$, $\hat{g}$, $h$, and $\hat{h}$ satisfy that $G \ge H$ and  $\hat{G} \ge \hat{H}$.
	Also consider the $\bm{\hat{\psi}}$, $\bm{\psi}$, $\bm{\hat{\varphi}}$, and $\bm{\varphi}$  which construct network $\tilde{g}$, $g$, $\hat{h}$, and $h$ respectively. 
	Then
	\[ v_i^*(\bm{x}^*(\hat{g}(\bm{\hat{\psi}})), \hat{g}(\bm{\hat{\psi}}), \phi) - v_i^*(\bm{x}^*(g(\bm{\psi})), g(\bm{\psi}), \phi) \ge v_i^*(\bm{x}^*(\hat{h}(\bm{\hat{\varphi}})), \hat{h}(\bm{\hat{\varphi}}), \phi) - v_i^*(\bm{h}^*(g(\bm{\varphi})), h(\bm{\varphi}), \phi)\]
\end{lemma}

Lemma 2 states shows the concavity of the function $v$ in the network.
If the network is more denser, the reduction of the utility without fixed cost by the link deletion becomes larger.
Using Algorithm 1 and these lemmas, we can show there exists a pure strategy subgame perfect equilibrium.

\begin{theorem}
Algorithm 1 terminates in finite steps, and converged network represents the equilibrium network
\end{theorem}

The algorithm never fails to converge because the removed links will not be reformed in the later steps.
The intuition behind this theorem is that


\subsection{Uniqueness of the equilibrium}

Previous subsection shows the existence of the equilibrium, and we argue the uniqueness of the equilibrium in this subsection.
Since the equilibrium in the second stage is unique from Proposition 1, we focus on the first stage strategies.
However, the equilibrium network is not necessarily unique.
Consider the following example.

\begin{example}
Consider the network with $n=2$, and the potential network $g^p$ such that,
\[ G^p = \left[
	\begin{array}{cc}
		0 & 1 \\
		1 & 0
	\end{array} \right] \]
Assume $\bm{\alpha} = (1, 1)$ and $\phi$ satisfies Assumption 1.
Denote the realized network $g$ as
\[ G = \left[
	\begin{array}{cc}
		0 & g_{12} \\
		g_{21} & 0
	\end{array} \right] \]
where $g_{12}, g_{21} \in \{0,1\}$.
By proposition 1, we can compute each player's equilibrium payoffs:
\[ (u_1^*, u_2^*) =
	\begin{cases}
		\left( \frac{1}{2}{\left( \frac{1}{1 - \phi} \right)}^2 - c_{12}, \frac{1}{2}{\left( \frac{1}{1 - \phi} \right)}^2 - c_{21} \right) & (g_{12} = 1, g_{21} = 1) \\
		\left( \frac{1}{2}{(1+\phi)}^2 - c_{12}, \frac{1}{2} \right) & (g_{12} = 1, g_{21} = 0) \\
		\left( \frac{1}{2}, \frac{1}{2}{(1+\phi)}^2 - c_{21} \right) & (g_{12} = 0, g_{21} = 1) \\
		\left( \frac{1}{2}, \frac{1}{2} \right) & (g_{12} = 0, g_{21} = 0)
	\end{cases} \]
From this calculation, if $c_{12}$ and $c_{21}$ satisfy
\[ \frac{1}{2}{(1+\phi)}^2 - \frac{1}{2} < c_{12} < \frac{1}{2}{\left( \frac{1}{1 - \phi} \right)}^2 \]
\[ \frac{1}{2}{(1+\phi)}^2 - \frac{1}{2} < c_{21} < \frac{1}{2}{\left( \frac{1}{1 - \phi} \right)}^2 \]
then $(g_{12}, g_{21}) = (1,1)$ and $(g_{12}, g_{21}) = (0,0)$ are both Nash equilibria.
Thus, $G = \left[
	\begin{array}{cc}
		0 & 1 \\
		1 & 0
	\end{array} \right]$
and $G = \left[
	\begin{array}{cc}
		0 & 0 \\
		0 & 0
	\end{array} \right]$
are both equilibrium networks.
\end{example}

Example 1 shows the equilibrium network may not be unique.
From this perspective, the algorithm can potentially converge multiple equilibria.
In each step, the number of the agents who do not take best responses is generally greater than one.
Therefore, the order of the agents who delete the links is changed, and the network in each steps is also changed.
This may lead to the different networks.
However, we can show that the equilibrium which is derived by the algorithm is unique.

To show the uniquness, we need an additional result.
Let $BR_i(\bm{\psi}_{-i})$ be the set of $i$'s best responses for $\bm{\psi}_{-i}$, that is
\[ BR_i(\bm{\psi}_{-i}) = \{ \psi_i \subset N_i(g^p) | u_i(\bm{x}^*(g(\psi_i, \bm{\psi}_{-i})), \psi_i, \bm{\psi}_{-i}, \bm{C}, \phi) \ge u_i(\bm{x}^*(g(\tilde{\psi}_i, \bm{\psi}_{-i})), \tilde{\psi}_i, \bm{\psi}_{-i}, \bm{C}, \phi) \ \forall \tilde{\psi}_i \subset N_i(g^p) \} \]
We can show that the number of best responses for other players' strategies is one.

\begin{lemma}
In the Algorithm 1, for any step $k$, $|BR_i(\bm{\psi}_{-i}^{(k-1)})| = 1$ for any $i \in NB^{(k-1)}$
\end{lemma}

Lemma 3 states that when agent $i$ wants to change her neighbors, the way to change them is uniquely determined.
But, in general, $|BR_i(\bm{\psi}_{-i})|$ may be greater than $1$.
For example, not changing neighbors and changing them can be both best responses at the same time.
From this lemma, we can show the uniqueness of the equilibrium network from the algorithm.

\begin{theorem}
Given $C, g^p, \bm{\alpha}, and \phi$, the equilibrium network derived by Algorithm 1 is unique.
\end{theorem}

From this theorem, we can say the order of the agents who take best responses does not matter.
The set of deleted links is determined only by costs, but not by the other players' links.
From now on, we only consider the network derived by the algorithm.


\subsection{Comparative Statics}

In this section, we argue the comparative statics by changing the parameter $\bm{C}$.
When the cost of forming links decrease, we conjecture that the network becomes denser because agents are more likely to form the links.

We denote that, for network $g$ and $h$, $g \supseteq h$ if all links in the network $h$ are existed in the network $g$, that is $G \ge H$.
Next proposition shows that our conjection is verified.

\begin{proposition}
Given the potential network $g^p$.
Consider the cost $\bm{\hat{C}}$ and $\bm{C}$ with $\bm{\hat{C}} \le \bm{C}$.
Then,
\[ g(\bm{\psi}^*(g^p, \bm{\hat{C}})) \supseteq g(\bm{\psi}^*(g^p, \bm{C})) \]
\end{proposition}

The network is a increasing function in the costs of forming links.
However, it is obvious that this function is discontiunous.
The next example shows that small changes in the costs makes the network entirely changed.

\begin{example}
Consider the network with $n = 5$, and the potential network so that $g_{ij}^p = 1$ for any pair $ij(i \neq j)$.
Assume $\bm{\alpha} = (1, 1, 1, 1, 1)$ and $\phi = \frac{1}{5}$, which satisfies the Assumption 1.
For small enough $\epsilon > 0$, consider the costs $C$ such that
\[ C = \left[
			\begin{array}{ccccc}
				0 & 3 - \epsilon & 3 - \epsilon & 3 - \epsilon & 3 - \epsilon \\
				3 - \epsilon & 0 & 3 - \epsilon & 3 - \epsilon & 3 - \epsilon \\
				3 - \epsilon & 3 - \epsilon & 0 & 3 - \epsilon & 3 - \epsilon \\
				3 - \epsilon & 3 - \epsilon & 3 - \epsilon & 0 & 3 - \epsilon \\
				3 - \epsilon & 3 - \epsilon & 3 - \epsilon & 3 - \epsilon & 0
			\end{array} \right] \]
Then, the equilibrium network $g^*$ becomes
\[G^* = \left[
			\begin{array}{ccccc}
				0 & 1 & 1 & 1 & 1 \\
				1 & 0 & 1 & 1 & 1 \\
				1 & 1 & 0 & 1 & 1 \\
				1 & 1 & 1 & 0 & 1 \\
				1 & 1 & 1 & 1 & 0
			\end{array} \right] \]
The equilibrium network becomes complete network.
On the other hand, when the cost of forming a link from agent $1$ to agent $2$ slightly increases, that is,
\[\hat{C} = \left[
			\begin{array}{ccccc}
				0 & 3 + 4 \epsilon & 3 - \epsilon & 3 - \epsilon & 3 - \epsilon \\
				3 - \epsilon & 0 & 3 - \epsilon & 3 - \epsilon & 3 - \epsilon \\
				3 - \epsilon & 3 - \epsilon & 0 & 3 - \epsilon & 3 - \epsilon \\
				3 - \epsilon & 3 - \epsilon & 3 - \epsilon & 0 & 3 - \epsilon \\
				3 - \epsilon & 3 - \epsilon & 3 - \epsilon & 3 - \epsilon & 0
			\end{array} \right] \]
then, the equilibrium network $\hat{g}^*$ becomes
\[ \hat{G}^* = \left[
			\begin{array}{ccccc}
				0 & 0 & 0 & 0 & 0 \\
				0 & 0 & 0 & 0 & 0 \\
				0 & 0 & 0 & 0 & 0 \\
				0 & 0 & 0 & 0 & 0 \\
				0 & 0 & 0 & 0 & 0
			\end{array} \right] \]
The equilibrium network is empty network.
\end{example}

Tiny changes in the costs generates large discontinuity in the structure of the network.
Example 2 shows that our model incorporates the {\it{phase transition}}.


\section{Finding the Key Player}

In this section, we argue the {\it{key player}} in the network.
In the previous literatures, for example Ballester, Calvo-Armengol, and Zenou(2006, 2010) and Liu et.al.(2012), argue the key player and give necessary and sufficient condition of who becomes it in the context of similar model.
In these papers, key player is defined as the agent who, once removed from the network, generates the highest possible reduction in aggreate effort level.
Key player is thought of, for example, the player who supports the criminal activity of his friends in the context of criminal network.
The formal definition of key player is given as follows:

\begin{definition}
Agent $i$ is the key player in the exogenous network $g$ if, given network $g$,
\[ i \in \arg \max_{i \in N} \{ x^*(g) - x^*(g^{-i}) \} \]
\end{definition}

Here we denote $x^*(g) = \sum_{i=1}^n x_i^*(g)$ and $g^{-i}$ is the network where agent $i$ is removed from the network $g$.
The adjecency matrix of $g^{-i}$, $G^{-i}$, is obtained from $G$ by setting to zero all of its $i$th row and column entries.
Previous literatures show the key player in the exogenous network does not always coincide with the most active player who excerts highest effort.

In this paper, the definition of key player might be different from the previous ones.
Since the network is endogenous in our model, the key player is the agent who generates the largest reduction in the total effort level once she is removed from the potential network.

\begin{definition}
Agent $i$ is the key player in the endogenous network if, given potential network $g^p$,
\[ i \in \arg \max_{i \in N} \{ x^*(g(\bm{\psi}({g^p}^{-i}, C))) - x^*(g(\bm{\psi}({g^p}^{-i}, C^{-i}))) \} \]
\end{definition}
Here we denote ${g^p}^{-i}$ is the network where agent $i$ is removed from the network $g^p$ as before.
$C^{-i}$ is obtained from $C$ by setting to zero all of its $i$th row and column entries.

As discussed in the previous section, there exists a discontinuity of the network realization in the link formation costs, so it is very difficult to identify the condition to be a key player.
The realization of the network is a key factor to be a key player in the endogenous network.
We know that denser network leads higher effort level by the network externality, so, in order to become a key player in the endogenous network, the realized network after removing should be sparse.

Although it is difficult to identify who becomes key player, we can find that the most active player, key player in the endogenous network, and key player in the exogenous network can be different each other.
To compare the kay player in the endogenous network and exogenous network, we treat realized network from the potential network and costs as given, then compute the key player in the exogenous network.
Endogenous one is computed by the deefinition.

\begin{example}
Consider the network with $n=5$, and the potential network so that $g_{ij}^p = 1$ for any pair $ij(i \neq j)$.
Assume $\bm{\alpha} = (1, 1, 1, 1, 1)$ and $\phi = \frac{1}{5}$, which satisfies the Assumption 1.

Consider the link formation costs as follows:
\[C = \left[
			\begin{array}{ccccc}
				0 & 3.6 & 0.2 & 0.2 & 0.2 \\
				0.3 & 0 & 0.2 & 0.5 & 5.5 \\
				0.2 & 0.2 & 0 & 4.5 & 4.3 \\
				4.1 & 0.2 & 0.4 & 0 & 6.5 \\
				3.2 & 4.1 & 0.3 & 1.0 & 0
			\end{array} \right] \]
Then, the realized equilibrium network $g^*$ is:
\[G^* = \left[
			\begin{array}{ccccc}
				0 & 0 & 1 & 1 & 1 \\
				1 & 0 & 1 & 1 & 0 \\
				1 & 1 & 0 & 0 & 0 \\
				0 & 1 & 1 & 0 & 0 \\
				0 & 0 & 1 & 0 & 0
			\end{array} \right] \]
In this network, the agent who excerts highest effort is agent $2$.
However, the key player in the endogenous network $g^*$ is agent $1$.
On the other hand, when we treat the network $g^*$ as given, the key player in the exogenous network is agent $3$.
See Table\ref{tab:key player}.

\begin{table}[htb]
  \begin{center}
    \begin{tabular}{|l|c|} \hline
      highest effort & agent $2$ \\ \hline
      key player in the endogenous network & agent $1$ \\ \hline
      key player in the exogenous network & agent $3$ \\ \hline
    \end{tabular}
    \caption{Difference of key players}
    \label{tab:key player}
  \end{center}
\end{table}
\end{example}


\section{Conclusion}


\section{Reference}


\section{Appendix}


\end{document}
